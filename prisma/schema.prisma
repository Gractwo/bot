generator client {
  provider = "prisma-client-js"
  binaryTargets = ["linux-musl"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model badges {
  badge_id          Int           @id
  badge_name        String
  badge_description String
  badge_visibility  Boolean       @default(true)
  badge_type        Int           @default(0)
  givenbadges       givenbadges[]
}

model givenbadges {
  user_id        String
  badge_id       Int
  date_of_confer DateTime @id @db.Date
  badges         badges   @relation(fields: [badge_id], references: [badge_id], onDelete: NoAction, onUpdate: NoAction, map: "badge_id")
  users          users    @relation(fields: [user_id], references: [user_id], onDelete: NoAction, onUpdate: NoAction, map: "user_id")

  @@index([badge_id], map: "fki_badge_id")
  @@index([user_id], map: "fki_user_id")
}

model users {
  user_id      String         @id(map: "user_pkey")
  exp          Int            @default(0)
  voice_time   Int            @default(0)
  lvl          Int            @default(0)
  givenbadges  givenbadges[]
  sendmessages sendmessages[]
}

model sendmessages {
  id        Int      @id @default(autoincrement())
  user_id   String
  date      DateTime @db.Date
  channel   String
  msg_count Int
  users     users    @relation(fields: [user_id], references: [user_id], onDelete: NoAction, onUpdate: NoAction, map: "user_id")

}
